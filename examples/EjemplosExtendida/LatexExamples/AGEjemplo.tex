
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{AGEjemplo}
    
    
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{Algoritmos genéticos}\label{algoritmos-genuxe9ticos}

La librería \textbf{Pyristic} incluye una clase llamada \texttt{Genetic}
inspirada en la metaheurística de \emph{Algoritmos genéticos} (AG) para
resolver problemas de minimización. Para trabajar con esta clase se
requiere hacer lo siguiente:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  Definir:

  \begin{itemize}
  \tightlist
  \item
    La función objetivo \(f\).
  \item
    La lista de restricciones.
  \item
    Lista de límites inferiores y límites superiores.
  \item
    Configuración de operadores de la metaheurística (opcional).
  \end{itemize}
\item
  Crear una clase que hereda de \texttt{Genetic}.
\item
  Sobreescritura de funciones auxiliares:

  \begin{itemize}
  \tightlist
  \item
    initialize\_population (opcional)
  \item
    fixer (opcional)
  \item
    mutation\_operator (opcional)
  \item
    crossover\_operator (opcional)
  \item
    survivor\_selection (opcional)
  \item
    parent\_selection (opcional)
  \end{itemize}
\end{enumerate}

A continuación se mostrarán los elementos que se deben importar.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{sys}
        \PY{k+kn}{import} \PY{n+nn}{os}
        
        \PY{c+c1}{\PYZsh{}library\PYZus{}path is the path where the Optimpy library is located.}
        \PY{n}{library\PYZus{}path} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/home/dell/Documentos/Git\PYZus{}proejcts/optimizacion\PYZhy{}con\PYZhy{}metaheuristicas/}\PY{l+s+s2}{\PYZdq{}}
        \PY{c+c1}{\PYZsh{}library\PYZus{}path = \PYZdq{}/Users/adrianamenchacamendez/Documentos/enes\PYZus{}morelia/papime/optimizacion\PYZhy{}con\PYZhy{}metaheuristicas/\PYZdq{}}
        \PY{n}{sys}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{os}\PY{o}{.}\PY{n}{path}\PY{o}{.}\PY{n}{abspath}\PY{p}{(}\PY{n}{library\PYZus{}path}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \subsubsection{Librerías externas}\label{libreruxedas-externas}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}2}]:} \PY{k+kn}{from} \PY{n+nn}{pprint} \PY{k}{import} \PY{n}{pprint}
        \PY{k+kn}{import} \PY{n+nn}{math}
        \PY{k+kn}{import} \PY{n+nn}{random} 
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np} 
        \PY{k+kn}{import} \PY{n+nn}{copy}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}3}]:} \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{Image}
        \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{core}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{HTML} 
\end{Verbatim}

    \subsubsection{\texorpdfstring{Componentes de
\texttt{pyristic}}{Componentes de pyristic}}\label{componentes-de-pyristic}

La estructura que está organizada la librería es: * Las metaheurísticas
están ubicadas en \texttt{heuristic}. * Las funciones de prueba están
ubicadas en \texttt{utils.test\_function}. * Las clases auxiliares para
mantener la información de los operadores que serán empleados para
alguna de las metaheurísticas basadas en los paradigmas del cómputo
evolutivo están ubicadas en \texttt{utils.helpers}. * Las
metaheurísticas basadas en los paradigmas del cómputo evolutivo dependen
de un conjunto de operadores (selección, mutación y cruza). Estos
operadores están ubicados en \texttt{utils.operators}.

Para demostrar el uso de nuestra metaheurística basada en
\emph{algoritmos geneticos} tenemos que importar la clase llamada
\texttt{Genetic} que se encuentra en
\texttt{heuristic.GeneticAlgorithm\_search}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}4}]:} \PY{k+kn}{from} \PY{n+nn}{optimpy}\PY{n+nn}{.}\PY{n+nn}{heuristic}\PY{n+nn}{.}\PY{n+nn}{GeneticAlgorithm\PYZus{}search} \PY{k}{import} \PY{n}{Genetic}
        \PY{k+kn}{from} \PY{n+nn}{optimpy}\PY{n+nn}{.}\PY{n+nn}{utils}\PY{n+nn}{.}\PY{n+nn}{operators} \PY{k}{import} \PY{n}{selection}\PY{p}{,}\PY{n}{mutation}\PY{p}{,}\PY{n}{crossover}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{k+kn}{import} \PY{n+nn}{optimpy}\PY{n+nn}{.}\PY{n+nn}{utils}\PY{n+nn}{.}\PY{n+nn}{helpers} \PY{k}{as} \PY{n+nn}{helpers}
        \PY{k+kn}{from} \PY{n+nn}{optimpy}\PY{n+nn}{.}\PY{n+nn}{utils}\PY{n+nn}{.}\PY{n+nn}{test\PYZus{}function} \PY{k}{import} \PY{n}{ackley\PYZus{}}\PY{p}{,} \PY{n}{beale\PYZus{}}
\end{Verbatim}

    \subsection{\texorpdfstring{Clase
\texttt{Genetic}}{Clase Genetic}}\label{clase-genetic}

\paragraph{Variables}\label{variables}

\begin{itemize}
\item
  \emph{\textbf{logger.}} Diccionario con información relacionada a la
  búsqueda.

  \begin{itemize}
  \tightlist
  \item
    \texttt{best\_individual.} Mejor individuo encontrado.
  \item
    \texttt{best\_f.} Aptitud del mejor individuo.
  \item
    \texttt{current\_iter.} Iteración actual de la búsqueda.
  \item
    \texttt{total\_iter.} Número total de iteraciones.
  \item
    \texttt{population\_size.} Tamaño de la población.
  \item
    \texttt{parent\_population\_x.} Arreglo bidimensional de numpy. Cada
    fila representa a un individuo de la población actual y cada columna
    corresponde a una variable de decisión.
  \item
    \texttt{offspring\_population\_x.} Arreglo bidimensional de numpy.
    Cada fila representa a un individuo de la población de hijos y cada
    columna corresponde a una variable de decisión.
  \item
    \texttt{parent\_population\_f.} Arreglo de numpy que contiene el
    valor de la función objetivo para cada uno de los individuos de la
    población de \texttt{parent\_population\_x}.
  \item
    \texttt{offspring\_population\_f.} Arreglo de numpy que contiene el
    valor de la función objetivo para cada uno de los individuos de la
    población de \texttt{offspring\_population\_x}.
  \end{itemize}
\item
  \emph{\textbf{f.}} Función objetivo.
\item
  \emph{\textbf{Constraints.}} Lista de restricciones del problema. Las
  restricciones deben ser funciones que retornan True o False, indicando
  si cumple dicha restricción.
\item
  \emph{\textbf{Bounds.}} Representa los límites definidos para cada una
  de las variables del problema. Se aceptan las siguientes
  representaciones:
\item
  Arreglo de \emph{numpy} con solo dos componentes numéricas, donde, la
  primera componente es el límite inferior y la segunda componente es el
  límite superior. Esto significa que todas las variables de decisión
  estarán definidas para el mismo intervalo.
\item
  Arreglo bidimensional de \emph{numpy} con dos arreglos de numpy,
  donde, el primer arreglo de numpy representa el límite inferior para
  cada variable de decisión, mientras, la segunda componente representa
  el límite superior para cada variable de decisión.
\item
  \emph{\textbf{Decision\_variables.}} El número de variables de
  decisión del problema.
\end{itemize}

\paragraph{Métodos}\label{muxe9todos}

\begin{itemize}
\tightlist
\item
  \emph{\textbf{\_\emph{init}\_}} Constructor de la clase.
\end{itemize}

Argumentos: * \texttt{function.} Función objetivo. *
\texttt{decision\_variables.} Número de variables de decisión. *
\texttt{constraints.} Lista con las restricciones del problema. Las
restricciones deben ser funciones que retornan True o False, dependiendo
de si se cumple o no dicha restricción. * \texttt{bounds.} Límites de
las variables de decisión (se describe los tipos de datos admisibles en
el apartado de variables de la clase con el nombre Bounds). *
\texttt{config.} Estructura de datos (\texttt{GeneticConfig}) con los
operadores que se emplearán en la búsqueda.

Valor de retorno: * Ninguno.

\begin{itemize}
\tightlist
\item
  \emph{\textbf{optimize.}} Método principal, realiza la ejecución de la
  metaheurística.
\end{itemize}

Argumentos: * \texttt{generations.} Número de generaciones (iteraciones
de la metaheurística). * \texttt{size\_population.} Tamaño de la
población (número de individuos). * \texttt{verbose.} Indica si se
imprime en qué iteración se encuentra nuestra búsqueda. Por defecto,
está en True. * \texttt{**kwargs.} Diccionario con argumentos externos a
la búsqueda. Estos argumentos pueden ser empleados cuando se
sobreescribe alguno de los métodos que tiene la clase.

Valor de retorno: * Ninguno.

\begin{itemize}
\tightlist
\item
  \emph{\textbf{fixer.}}Si nuestro individuo al ser evaluado no cumple
  las restricciones del problema, esta función auxiliar actualizará
  nuestro individuo de modo que sea válida. La función auxiliar es
  necesario definirla (No tiene ninguna por defecto), se especifica en
  la configuración (GeneticConfig) o sobreescribiendo dicha función.
\end{itemize}

Argumentos: * \texttt{ind.} Índice del individuo.

Valor de retorno: * Un arreglo de \emph{numpy} con la solución factible.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{initialize\_population.}} Crea una población de
  individuos aleatorios. Para ello se utiliza una distribución uniforme
  y se generan números aleatorios dentro de los límites indicados para
  cada variable. Los individuos generados son almacenados en
  \texttt{logger} con la llave \texttt{parent\_population\_x}. Esta
  función es llamada dentro de la función \texttt{optimize}.
\end{itemize}

Argumentos: * \texttt{**kwargs.} Diccionario con argumentos externos a
la búsqueda. Estos argumentos pueden ser empleados cuando se
sobreescribe alguno de los métodos que tiene la clase.

Valor de retorno: * Un arreglo bidimensional de \emph{numpy}. Cada fila
representa un individuo, cada columna indica los valores para cada
variable de decisión del individuo.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{mutation\_operator.}} Muta las variables de decisión de
  la población de hijos, las cuales se encuentran almacenadas en el
  diccionario \texttt{logger} con la llave
  \texttt{offspring\_population\_x}. El operador de mutación es
  necesario definirlo (No tiene ningún operador por defecto), se
  especifica en la configuración (\texttt{GeneticConfig}) o
  sobreescribiendo el operador.
\end{itemize}

Argumentos: * \texttt{**kwargs.} Diccionario con argumentos externos a
la búsqueda. Estos argumentos pueden ser empleados cuando se
sobreescribe alguno de los métodos que tiene la clase.

Valor de retorno: * Un arreglo bidimensional de \emph{numpy} con la
población mutada. Cada fila representa un individuo y cada columna
corresponde a una variable de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{crossover\_operator.}} Dada una población de padres,
  genera una población de hijos aplicando algún tipo de cruza. El
  operador de cruza es necesario definirlo (No tiene ningún operador por
  defecto), se especifica en la configuración (\texttt{GeneticConfig}) o
  sobreescribiendo el operador.
\end{itemize}

Argumentos: * \texttt{parent\_ind1.} Índices de los individuos que son
seleccionados para actuar como padre 1. * \texttt{parent\_ind2.} Índices
de los individuos que son seleccionados para actuar como padre 2. *
\texttt{**kwargs.} Diccionario con argumentos externos a la búsqueda.
Estos argumentos pueden ser empleados cuando se sobreescribe alguno de
los métodos que tiene la clase.

Valor de retorno: * Un arreglo bidimensional de \emph{numpy} con la
población generada por la cruza. Cada fila representa un individuo y
cada columna corresponde a una variable de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{parent\_selection.}} Selecciona a los individuos que
  actuarán padres. El método de selección es necesario definirlo (No
  tiene ningún operador por defecto), se especifica en la configuración
  (\texttt{GeneticConfig}) o sobreescribiendo el método.
\end{itemize}

Argumentos: * \texttt{**kwargs.} Diccionario con argumentos externos a
la búsqueda. Estos argumentos pueden ser empleados cuando se
sobreescribe alguno de los métodos que tiene la clase.

Valor de retorno: * Regresa un arreglo con los índices de los individuos
seleccionados. Estos índices corresponden con la variable
\texttt{parent\_population\_x} que está almacenada en el diccionario
\texttt{logger}.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{survivor\_selection.}} Selección de los individuos que
  pasarán a la siguiente generación. El método de selección de
  sobrevivientes es necesario definirlo (No tiene ningún operador por
  defecto), se especifica en la configuración (\texttt{GeneticConfig}) o
  sobreescribiendo el método.
\end{itemize}

Argumentos: * \texttt{**kwargs.} Diccionario con argumentos externos a
la búsqueda. Estos argumentos pueden ser empleados cuando se
sobreescribe alguno de los métodos que tiene la clase.

Valor de retorno: * Un diccionario con las siguientes llaves:

\begin{verbatim}
* `parent_population_f.` Arreglo de *numpy* con la aptitud de cada uno de los  individuos que pasará a la siguiente generación.
* `parent_population_x.` Arreglo bidimensional de *numpy* con los individuos que pasarán a la siguiente generación.
\end{verbatim}

    \subsection{\texorpdfstring{Clase
\texttt{GeneticConfig}}{Clase GeneticConfig}}\label{clase-geneticconfig}

\paragraph{Variables}\label{variables}

\begin{itemize}
\tightlist
\item
  \emph{\textbf{cross\_op.}} Variable con el operador de cruza.
\item
  \emph{\textbf{mutation\_op.}} Variable con el operador de mutación.
\item
  \emph{\textbf{survivor\_selection.}} Variable con el esquema de
  selección que decide cuáles individuos pasan a la siguiente
  generación.
\item
  \emph{\textbf{fixer.}} Variable con una función que determina qué
  hacer con los individuos que no cumplen las restricciones del
  problema.
\item
  \emph{\textbf{parent\_selector.}} Variable que almacena el operador de
  selección.
\end{itemize}

\paragraph{Métodos}\label{muxe9todos}

\begin{itemize}
\tightlist
\item
  \emph{\textbf{cross.}} Actualiza el operador de cruza de la variable
  \texttt{cross\_op}.
\end{itemize}

Argumentos: * \texttt{crossover\_.} Función o clase que realiza la cruza
de la población almacenada con la llave \texttt{parent\_population\_x}.

Valor de retorno: * Retorna la configuración con la actualización del
operador de cruza. El objetivo es poder aplicar varios operadores en
cascada.

\begin{itemize}
\tightlist
\item
  \emph{\textbf{mutate.}} Actualiza el operador de mutación de la
  variable \texttt{mutation\_op}.
\end{itemize}

Argumentos: * \texttt{mutate\_.} Función o clase que realiza la mutación
de la población almacenada con la llave
\texttt{offspring\_population\_x}.

Valor de retorno: * Retorna la configuración con la actualización del
operador de cruza. El objetivo es poder aplicar varios operadores en
cascada.

\begin{itemize}
\tightlist
\item
  \emph{\textbf{survivor\_selection.}} Actualiza el operador de
  selección de la variable \texttt{survivor\_selector}.
\end{itemize}

Argumentos: * \texttt{survivor\_function.} Función o clase que realiza
la selección de individuos que pasarán a la siguiente generación.

Valor de retorno: * Retorna la configuración con la actualización del
operador de cruza. El objetivo es poder aplicar varios operadores en
cascada.

\begin{itemize}
\tightlist
\item
  \emph{\textbf{fixer\_invalide\_solutions.}} Actualiza la función
  auxiliar de la variable \texttt{fixer}.
\end{itemize}

Argumentos: * \texttt{fixer\_function.} Función o clase que ajustará los
individuos de la población que no cumplen con las restricciones del
problema.

Valor de retorno: * Retorna la configuración con la actualización del
operador de cruza. El objetivo es poder aplicar varios operadores en
cascada.

\begin{itemize}
\tightlist
\item
  \emph{\textbf{parent\_selection.}} Actualiza el operador de selección
  de los individuos con mayores posibilidades de reproducción, se
  encuentran en la variable \texttt{parent\_selector}.
\end{itemize}

Argumentos: * \texttt{parent\_function.} Función o clase que elige los
individuos de acuerdo a su contribución de aptitud. Este método en la
búsqueda es realizado antes de la cruza.

Valor de retorno: * Retorna la configuración con la actualización del
operador de cruza. El objetivo es poder aplicar varios operadores en
cascada.

    \subsection{Descripción de
operadores}\label{descripciuxf3n-de-operadores}

    Los operadores descritos en Estrategias Evolutivas también pueden ser
empleados en AG. Los operadores de selección de sobrevivientes son los
mismos para las clases \texttt{Genetic}, \texttt{EvolutionStrategy} y
\texttt{EvolutionaryProgramming}.

Los operadores de mutación, cruza y selección con los que cuenta la
librería \textbf{Pyristic} son clases. La finalidad es unificar el
formato de todos los operadores al ser llamados por los métodos de la
clase \texttt{Genetic}.

    \subsubsection{Operadores de mutación}\label{operadores-de-mutaciuxf3n}

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{insertion\_mutator.}} Operador empleado para generar
  permutaciones que selecciona aleatoriamente un elemento de la
  permutación y una nueva posición. Posteriormente, coloca el elemento
  en la nueva posición y desplaza el resto de los elementos hacia la
  derecha. Este proceso se repite \(n\) veces por cada individuo. Este
  operador es conocido como \emph{mutación por desplazamiento} y es una
  generalización de \emph{mutación por inserción}.
\end{itemize}

Constructor: * \texttt{n\_elements.} Número de elementos a desplazar,
por defecto el número es 1.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
representa el conjunto de individuos de la población a mutar. Cada fila
es un individuo de la población y cada columna corresponde con una
variable de decisión.

Valor de retorno: * Arreglo bidimensional de \emph{numpy} con la
población mutada. Cada fila es un individuo de la población y cada
columna corresponde con una variable de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{exchange\_mutator.}} Operador utilizado para
  permutaciones. Intercambia dos posiciones seleccionadas de manera
  aleatoria del individuo, las demás posiciones de la permutación
  permanecen igual.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
representa el conjunto de individuos de la población a mutar. Cada fila
es un individuo de la población y cada columna corresponde con una de
las variables de decisión.

Valor de retorno: * Arreglo bidimensional de \emph{numpy} con la
población mutada. Cada fila es un individuo de la población y cada
columna corresponde con una de las variables de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{boundary\_mutator.}} Operador para representación real
  conocido como \emph{de límite}. Sean LB y UB los límites inferiores y
  superiores respectivamente, este operador selecciona una posición
  aleatoria, \(i\), del vector \(\vec{x}\) y realiza lo siguiente:

  \begin{equation}
  \vec{x}'_{i} = 
    \begin{cases}
     LB & si & R \le 0.5 \\
     UB & si & R > 0.5 \\
    \end{cases}
  \end{equation}
\end{itemize}

Constructor: * \texttt{bounds.} Límites de las variables de decisión del
problema. Acepta los siguientes formatos:

\begin{verbatim}
 * Arreglo bidimensional de *numpy*. La primera fila contiene los límites inferiores de cada una de las variables de decisión y la segunda fila los límites superiores.
 * Arreglo de *numpy* con dos valores numéricos. El primero es el límite inferior y el segundo es el límite superior. Estos valores serán los límites para todas las variables de decisión del problema.
\end{verbatim}

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
representa el conjunto de individuos de la población a mutar. Cada fila
es un individuo de la población y cada columna corresponde con una de
las variables de decisión.

Valor de retorno: * Arreglo bidimensional de \emph{numpy} con la
población mutada. Cada fila es un individuo de la población y cada
columna corresponde a una de las variables de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{uniform\_mutator.}} Operador para representación real.
  Sean LB y UB los límites inferiores y superiores respectivamente, este
  operador selecciona aleatoriamente una posición \(i\) del vector
  \(\vec{x}\) y realiza lo siguiente:

  \begin{equation}
  \vec{x}'_{i}= rnd(LB,UB)
  \end{equation}

  Donde, \(rnd()\) genera un valor aleatorio utilizando una distribución
  uniforme.
\end{itemize}

Constructor: * \texttt{bounds.} Límites de las variables de decisión del
problema. Acepta los siguientes formatos:

\begin{verbatim}
 * Arreglo bidimensional de *numpy*. La primera fila contiene los límites inferiores de cada una de las variables de decisión y la segunda fila los límites superiores.
 * Arreglo de *numpy* con dos valores numéricos. El primero es el límite inferior y el segundo es el límite superior. Estos valores serán los límites para todas las variables de decisión del problema.
\end{verbatim}

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
representa el conjunto de individuos de la población a mutar. Cada fila
es un individuo de la población y cada columna corresponde con una de
las variables de decisión.

Valor de retorno: * Arreglo bidimensional de \emph{numpy} con la
población mutada. Cada fila es un individuo de la población y cada
columna corresponde a una de las variables de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{non\_uniform\_mutator.}} Operador para representación
  real que selecciona aleatoriamente una posición \(i\) del vector
  \(\vec{x}\) y realiza lo siguiente.

  \begin{equation}
  \vec{x}'_{i} = \vec{x}_{i} + N(0, \sigma)
  \end{equation}

  Donde \(N\) genera un valor aleatorio utilizando una distribución
  normal con media \(0\) y desviación estándar \(\sigma\).
\end{itemize}

Constructor: * \texttt{sigma.} Valor numérico con la desviación estándar
que se va a utilizar, por defecto es 1.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
representa el conjunto de individuos de la población a mutar. Cada fila
es un individuo de la población y cada columna corresponde con una de
las variables de decisión.

Valor de retorno: * Arreglo bidimensional de \emph{numpy} con la
población mutada. Cada fila es un individuo de la población y cada
columna corresponde a una de las variables de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{none\_mutator.}} Operador que no altera la solución
  actual.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
representa el conjunto de individuos de la población a mutar, donde,
cada fila es un individuo de la población y el número de columnas es el
número de variables de decisión.

Valor de retorno: * Arreglo bidimensional de numpy del mismo tamaño que
el arreglo de entrada.

    \subsubsection{Operadores de cruza}\label{operadores-de-cruza}

    Estos operadores generan una nueva población de individuos que será
almacenada en \texttt{logger} con la llave
\texttt{offspring\_population\_x}.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{n\_point\_crossover.}} Este operador es una
  generalización de la cruza de un punto. Dados dos padres, se crean dos
  nuevos individuos. Para ello se seleccionan de manera aleatoria \(n\)
  puntos de cruza. Los nuevos hijos van copiando posición a posición la
  información de uno de los padres. Cada vez que se encuentra un punto
  de cruza, intercambian el padre del cual están realizando la copia.
\end{itemize}

Constructor: * \texttt{n\_cross.} Número de puntos de cruza, por defecto
es 1.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
contiene el conjunto de individuos de la población actual
(\texttt{parent\_population\_x}). Cada fila es un individuo de la
población y cada columna corresponde a una variable de decisión. *
\texttt{parent\_ind1.} Índices de los individuos que son seleccionados
para actuar como padre 1. * \texttt{parent\_ind2.}Índices de los
individuos que son seleccionados para actuar como padre 2.

Valor de retorno: * Arreglo bidimensional con la población de nuevos
individuos. Cada fila es un individuo de la población y cada columna
corresponde a una variable de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{uniform\_crossover.}} Dados dos padres \(P_1\) y
  \(P_2\), se crean dos nuevos individuos \(H_1\) y \(H_2\) empleando un
  cambio entre la información proporcionada por el padre que le
  corresponderá a cada hijo. La información será seleccionada del padre
  \(P_{i}\) con una probabilidad \(p_c\) para el hijo \(H_i\). La cruza
  se realiza de la siguiente manera:

  \begin{equation}
  H_{1,i}, H_{2,i} =
    \begin{cases}
     P_{1,i}, P_{2,i} & si & R_i \le p_c \\
     P_{2,i}, P_{1,i} & si & R_i > p_c \\
    \end{cases}
  \end{equation}

  Donde \(R\) es un vector que indica un número aleatorio entre
  \([0,1]\).
\end{itemize}

Constructor: * \texttt{flip\_prob.} Probabilidad de que una posición sea
considerada como punto de cruza.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

\begin{verbatim}
Argumentos:
 * `X.` Arreglo bidimensional de *numpy* que contiene el conjunto de individuos de la población actual (`parent_population_x`). Cada fila es un individuo de la población y cada columna corresponde a una variable de decisión.
 * `parent_ind1.` Índices de los individuos que son seleccionados para actuar como padre 1.
 * `parent_ind2.`Índices de los individuos que son seleccionados para actuar como padre 2.

Valor de retorno:
 * Arreglo bidimensional con la población de nuevos individuos. Cada fila es un individuo de la población y cada columna corresponde a una variable de decisión.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{permutation\_order\_crossover.}} Operador empleado para
  permutaciones. Dados dos padres \(P_1\) y \(P_2\), genera dos nuevos
  individuos \(H_1\) y \(H_2\). Para el primer hijo \(H_1\), selecciona
  un segmento aleatorio (longitud variable) del padre \(P_1\), este
  segmento es copiado a \(H_1\) en las mismas posiciones. Las posiciones
  restantes son completadas con la información del padre \(P_2\), de
  izquierda a derecha, sin considerar los elementos que aparecen en el
  segmento copiado del padre \(P_1\). Para el segundo hijo \(H_2\), se
  realiza el mismo procedimiento pero intercambiando a los padres.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
contiene el conjunto de individuos de la población actual
(\texttt{parent\_population\_x}). Cada fila es un individuo de la
población y cada columna corresponde a una variable de decisión. *
\texttt{parent\_ind1.} Índices de los individuos que son seleccionados
para actuar como padre 1. * \texttt{parent\_ind2.}Índices de los
individuos que son seleccionados para actuar como padre 2.

Valor de retorno: * Arreglo bidimensional con la población de nuevos
individuos. Cada fila es un individuo de la población y cada columna
corresponde a una variable de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{simulated\_binary\_crossover.}} Operador para
  representación real. Dados dos padres \(P_1\) y \(P_2\), genera dos
  nuevos individuos \(H_1\) y \(H_2\) de la siguiente forma:

  \begin{equation}
  H_1 = 0.5 [(P_1 + P_2) - \beta | P_2 - P_1 |]\\
  H_2 = 0.5 [(P_1 + P_2) + \beta | P_2 - P_1 |]\\
  \end{equation}

  Donde \(\beta\) se define como sigue:

  \begin{equation}
  \beta =
    \begin{cases}
     (2u)^{\frac{1}{n_{c}+1}} & si & u \le 0.5,\\
     \left(\frac{1}{2(1-u)}\right)^{\frac{1}{n_{c}+1}} & si & u > 0.5 \\
    \end{cases}
  \end{equation}

  Regularmente, \(n_{c}\) es igual con 1 ó 2 y \(u \in [0,1]\).
\end{itemize}

Constructor: * \texttt{n\_c.} Parámetro proporcionado por el usuario,
por defecto es 1.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de \emph{numpy} que
contiene el conjunto de individuos de la población actual
(\texttt{parent\_population\_x}). Cada fila es un individuo de la
población y cada columna corresponde a una variable de decisión. *
\texttt{parent\_ind1.} Índices de los individuos que son seleccionados
para actuar como padre 1. * \texttt{parent\_ind2.}Índices de los
individuos que son seleccionados para actuar como padre 2.

Valor de retorno: * Arreglo bidimensional con la población de nuevos
individuos. Cada fila es un individuo de la población y cada columna
corresponde a una variable de decisión.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{none\_cross.}} Operador que no altera la solución
  actual.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{X.} Arreglo bidimensional de numpy que representa
el conjunto de individuos de la población a mutar, donde, cada fila es
un individuo de la población y el número de columnas es el número de
variables de decisión. * \texttt{parent\_ind1.} Arreglo de numpy que
contiene los índices de los individuos seleccionados de la población
para ser los individuos de la matriz \(𝑋\). * \texttt{parent\_ind2.}
Arreglo de numpy que contiene los índices de los individuos
seleccionados de la población para ser los individuos de la matriz
\(Y\).

Valor de retorno: * Arreglo bidimensional con la población de individuos
generados por la cruza entre los individuos de la matriz 𝑋 y 𝑌.

    \subsubsection{Operadores de selección de
padres}\label{operadores-de-selecciuxf3n-de-padres}

Estos operadores están encargados de seleccionar a los individuos que
actuarán como padres en el proceso de cruza.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{roulette\_sampler.}} Operador de selección proporcional
  que simula el comportamiento de una ruleta. La porción de ruleta
  asignada a cada individuo depende de su valor de aptitud y la aptitud
  promedio del resto de los individuos.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{population\_f.} Arreglo de \emph{numpy} con
valores numéricos que representan los valores obtenidos al evaluar el
individuo en la posición \(i\) en la función objetivo.

Valor de retorno: * Arreglo de \emph{numpy} con valores enteros en el
intervalo \([0,n)\), donde \(n\) es el número total de individuos en la
población actual. Cada posición del arreglo indica el índice del
individuo de la población seleccionado para actuar como padre.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{stochastic\_universal\_sampler.}} Método de selección
  proporcional que garantiza que cada individuo actúe como padre al
  menos \(m\) veces, donde \(m\) es la parte entera del valor esperado
  del individuo. La decisión de que un individuo sea seleccionado
  \(m+1\) veces, depende de un valor aleatorio.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{population\_f.} Arreglo de numpy con valores
numéricos que representan los valores obtenidos al evaluar el individuo
en la posición 𝑖 en la función objetivo.

Valor de retorno: * Arreglo de \emph{numpy} con valores enteros en el
intervalo \([0,n)\), donde \(n\) es el número total de individuos en la
población actual. Cada posición del arreglo indica el índice del
individuo de la población seleccionado para actuar como padre.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{deterministic\_sampler.}} Método de selección
  proporcional que garantiza que cada individuo actúe como padre al
  menos \(m\) veces, donde \(m\) es la parte entera del valor esperado
  del individuo. Para decidir si un individuo actúa como padre \(m+1\)
  veces, se ordenan a los individuos de acuerdo a la parte decimal de su
  valor esperado y se van seleccionando a los de mayor valor.
\end{itemize}

Constructor: * Ningún parámetro al inicializar.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{population\_f.} Arreglo de \emph{numpy} con
valores numéricos que representan los valores obtenidos al evaluar el
individuo en la posición 𝑖 en la función objetivo.

Valor de retorno: * Arreglo de \emph{numpy} con valores enteros en el
intervalo \([0,n)\), donde \(n\) es el número total de individuos en la
población actual. Cada posición del arreglo indica el índice del
individuo de la población seleccionado para actuar como padre.

    \begin{itemize}
\tightlist
\item
  \emph{\textbf{tournament\_sampler.}} Este operador crea grupos
  aleatorios de individuos de tamaño \(m\). En cada grupo, se selecciona
  al mejor individuo o al peor individuo de acuerdo a su aptitud. La
  probabilidad de elegir al mejor individuo es \(p\) y la probabilidad
  de elegir al peor individuo es \(1-p\).
\end{itemize}

Constructor: * \texttt{chunks\_.} Tamaño de los grupos, por defecto es
2. * \texttt{prob\_.} Probabilidad \(p\) con la que se selecciona al
mejor individuo.

Métodos: * \emph{\textbf{\_\_call\_\_.}} Este método nos permite hacer
que nuestra clase se comporte como una función.

Argumentos: * \texttt{population\_f.} Arreglo de \emph{numpy} con
valores numéricos que representan los valores obtenidos al evaluar el
individuo en la posición \(𝑖\) en la función objetivo.

Valor de retorno: * Arreglo de \emph{numpy} con valores enteros en el
intervalo \([0,n)\), donde \(n\) es el número total de individuos en la
población actual. Cada posición del arreglo indica el índice del
individuo de la población seleccionado para actuar como padre.

    \subsection{Función de Beale}\label{funciuxf3n-de-beale}

\begin{equation}
  \label{eq:BF}
  \begin{array}{rll}
  \text{minimizar:} & f(x_1, x_2) = (1.5 - x_1 + x_1x_2)^2 + (2.25 - x_1 + x_1x_2^2)^2 + (2.625 - x_1 + x_1x_2^3)^2
  &  \\
  \text{Tal que: } & -4.5 \leq x_1,x_2 \leq 4.5 &  
  \end{array}
\end{equation}

El mínimo global se encuentra en \(x^* = (3, 0.5)\) y \(f(x^*) = 0\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{n}{Image}\PY{p}{(}\PY{n}{filename}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{include/beale.png}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{500}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{300}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}6}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{AGEjemplo_files/AGEjemplo_37_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    

    La librería \textbf{Pyristic} tiene implementados algunos problemas de
prueba en \texttt{utils.test\_function}, entre ellos la función de
Beale. Los problemas de prueba están definidos como diccionarios con las
siguientes llaves:

\begin{itemize}
\tightlist
\item
  \texttt{function.} Función objetivo.
\item
  \texttt{constraints.} Restricciones del problema.
\item
  \texttt{bounds.} Límites para cada una de las variables del problema.
  En el caso de que todas las variables del problema se encuentren en el
  mismo intervalo de búsqueda, se puede emplear una lista con dos
  valores numéricos.
\item
  \texttt{decision\_variables.} Número de variables que tiene dicho
  problema.
\end{itemize}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}7}]:} \PY{n}{beale\PYZus{}}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}7}]:} \{'function': CPUDispatcher(<function beale\_function at 0x7fdf642ad1e0>),
         'constraints': [CPUDispatcher(<function constraint1\_beale at 0x7fdf642ada60>)],
         'bounds': [-4.5, 4.5],
         'decision\_variables': 2\}
\end{Verbatim}
            
    \subsubsection{\texorpdfstring{Declaración de
\texttt{Genetic}}{Declaración de Genetic}}\label{declaraciuxf3n-de-genetic}

La metaheurística AG implementada en la librería \textbf{Pyristic} se
puede utilizar de las siguientes maneras:

\begin{itemize}
\tightlist
\item
  Crear una configuración de los operadores que son almacenados en un
  objeto del tipo \texttt{GeneticConfig} y posteriormente, se declara un
  objeto de la clase \texttt{Genetic}, donde, el constructor recibe la
  configuración en el parámetro con el nombre \texttt{config}.
\item
  Crear una clase que herede de la clase \texttt{Genetic} y
  sobreescribir los métodos.
\item
  Realizar una combinación de las dos anteriores.
\end{itemize}

La clase \texttt{Genetic} no tiene ningún operador definido por defecto,
porque, no se tiene conocimiento si el problema a resolver es continuo o
discreto.

    \subsubsection{Ejecución de la
metaheurística}\label{ejecuciuxf3n-de-la-metaheuruxedstica}

Para crear una instancia de la clase \texttt{Genetic}, vamos a definir
una configuración de los operadores que serán empleados. La
configuración se hace a través de la clase \texttt{GeneticConfig}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}8}]:} \PY{n}{configuration\PYZus{}beale} \PY{o}{=} \PY{p}{(}\PY{n}{helpers}\PY{o}{.}\PY{n}{GeneticConfig}\PY{p}{(}\PY{p}{)}
                         \PY{o}{.}\PY{n}{cross}\PY{p}{(}\PY{n}{crossover}\PY{o}{.}\PY{n}{intermediate}\PY{p}{(}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
                         \PY{o}{.}\PY{n}{mutate}\PY{p}{(}\PY{n}{mutation}\PY{o}{.}\PY{n}{uniform\PYZus{}mutator}\PY{p}{(}\PY{n}{beale\PYZus{}}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bounds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}
                         \PY{o}{.}\PY{n}{survivor\PYZus{}selection}\PY{p}{(}\PY{n}{selection}\PY{o}{.}\PY{n}{merge\PYZus{}selector}\PY{p}{(}\PY{p}{)}\PY{p}{)}
                         \PY{o}{.}\PY{n}{parent\PYZus{}selection}\PY{p}{(}\PY{n}{selection}\PY{o}{.}\PY{n}{tournament\PYZus{}sampler}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
                         \PY{o}{.}\PY{n}{fixer\PYZus{}invalide\PYZus{}solutions}\PY{p}{(}\PY{n}{helpers}\PY{o}{.}\PY{n}{ContinuosFixer}\PY{p}{(}\PY{n}{beale\PYZus{}}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bounds}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{configuration\PYZus{}beale}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
--------------------------------
	Configuration
--------------------------------
Crossover operator: Intermediate
	Arguments:
		-Alpha:0.5
Mutation operator: Uniform
	 Arguments:
		 -Lower bound: -4.5
		 -Upper bound: 4.5
Survivor selection: Merge population
Fixer: continuos
Parent selection: Tournament sampling
	 Arguments:
		-Chunks: 3
		-prob: 0.5

--------------------------------

    \end{Verbatim}

    En este ejemplo se ha empleado la siguiente configuración: *
\texttt{Crossover\ operator.} Cruza intermedia. *
\texttt{Mutation\ operator.} Mutación uniforme. *
\texttt{Survivor\ selection.} Esquema \((\mu + \lambda)\). *
\texttt{Parent\ selection.} Selección mediante torneos de tamaño 3,
utilizando \(p=0.5\). * \texttt{Fixer.} En caso de que haya soluciones
infactibles, se utiliza una función auxiliar que actualiza cada variable
de decisión que se encuentre fuera del espacio de búsqueda con el valor
del límite que rebasó.

    A continuación, se inicializa un objeto del tipo \texttt{Genetic} con
los siguientes parámetros: * \texttt{function}: Función para optimizar.
* \texttt{decision\_variables}: Número de variables que tiene el
problema. * \texttt{constraints}: Restricciones del problema (por
defecto, es una lista vacía). * \texttt{bounds}: Límites del problema
(por defecto es una lista vacía). * \texttt{config}: Configuración de
los operadores (por defecto es None).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}10}]:} \PY{n}{bealeGenetic}  \PY{o}{=} \PY{n}{Genetic}\PY{p}{(}\PY{o}{*}\PY{o}{*}\PY{n}{beale\PYZus{}}\PY{p}{,}\PY{n}{config}\PY{o}{=}\PY{n}{configuration\PYZus{}beale}\PY{p}{)}
\end{Verbatim}

    Finalmente, ejecutamos el método \texttt{optimize} del objeto
\texttt{bealeGenetic} usando: * \textbf{generations} = 200. *
\textbf{size\_population} = 100. * \textbf{verbose} = True.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}11}]:} \PY{n}{bealeGenetic}\PY{o}{.}\PY{n}{optimize}\PY{p}{(}\PY{l+m+mi}{200}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
100\%|██████████| 200/200 [00:01<00:00, 175.62it/s]

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{bealeGenetic}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Genetic search: 
 f(X) = 0.0001222729774154694 
 X = [2.99420989 0.49629651] 
 Constraints: 
 x1: -4.5 <= 2.99 <= 4.5 
 x2: -4.5 <= 0.50 <= 4.5 


    \end{Verbatim}

    \subsubsection{Análisis estadístico}\label{anuxe1lisis-estaduxedstico}

    Para revisar el comportamiento de la metaheurística en determinado
problema, la librería Pyristic cuenta con una función llamada
\texttt{get\_stats}. Esta función se encuentra en \texttt{utils.helpers}
y recibe como parámetros: * Objeto que realiza la búsqueda de
soluciones. * Número de veces que se quiere ejecutar la metaheurística.
* Argumentos que recibe la función optimize (debe ser una tupla). *
Argumentos adicionales a la búsqueda (opcional).

La función \texttt{get\_stats} retorna un diccionario con algunas
estadísticas de las ejecuciones.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{n}{args} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{200}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{,}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{statistics} \PY{o}{=} \PY{n}{helpers}\PY{o}{.}\PY{n}{get\PYZus{}stats}\PY{p}{(}\PY{n}{bealeGenetic}\PY{p}{,} \PY{l+m+mi}{30}\PY{p}{,} \PY{n}{args}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{pprint}\PY{p}{(}\PY{n}{statistics}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
\{'Best solution': \{'f': 3.8528422849262045e-06,
                   'x': array([2.99547576, 0.49871969])\},
 'Mean': 0.0002520283655572658,
 'Standard deviation': 0.0005704335576591761,
 'Worst solution': \{'f': 0.003221790920680413,
                    'x': array([2.88263129, 0.47541514])\}\}

    \end{Verbatim}

    \subsection{Función de Ackley}\label{funciuxf3n-de-ackley}

\begin{equation}
  \min f(\vec{x}) = -20\exp \left( -0.2 \sqrt{\frac{1}{n} \sum_{i=1}^n x_i^2} \right) 
  - exp \left( \frac{1}{n} \sum_{i=1}^n \cos (2\pi x_i) \right)
  + 20 + e  
\end{equation}

El mínimo global está en \$x\_i\^{}* = 0 \$, \(f(\vec{x}) = 0\) y su
dominio es \(|x_{i}| < 30\).

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{n}{Image}\PY{p}{(}\PY{n}{filename}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{include/ackley.jpg}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{500}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{300}\PY{p}{)}
\end{Verbatim}
\texttt{\color{outcolor}Out[{\color{outcolor}15}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{AGEjemplo_files/AGEjemplo_55_0.jpeg}
    \end{center}
    { \hspace*{\fill} \\}
    

    Para este problema se va a crear una clase llamada \emph{custom\_AG} que
herede de la clase \texttt{Genetic}. Posteriormente, se van a
sobreescribir los métodos para que utilicen los siguientes operadores:

\begin{itemize}
\tightlist
\item
  \emph{\textbf{parent\_selection:}} \texttt{tournament\_sampler}
\item
  \emph{\textbf{survivor\_selection:}} \texttt{merge\_selector}
\item
  \emph{\textbf{crossover\_operator:}} \texttt{intermediate}
\item
  \emph{\textbf{mutation\_operator:}} \texttt{non\_uniform\_mutator}
\item
  \emph{\textbf{fixer:}} \texttt{ContinuosFixer}
\end{itemize}

La siguiente tabla muestra la forma en que se encuentran definidos los
operadores en la librería.

\textbar{} Operador \textbar{} Función \textbar{} Clase \textbar{}
\textbar{}-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\textbar{}:-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-:\textbar{}:-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-
-\/-:\textbar{} \textbar{} Mutación \textbar{} *\_mutation* \textbar{}
*\_mutator* \textbar{} \textbar{} Cruza \textbar{} *\_cross* \textbar{}
*\_crossover* \textbar{} \textbar{} Selección padres \textbar{}
*\_sampling* \textbar{} *\_sampler* \textbar{} \textbar{} Selección
sobrevivientes \textbar{} No existe \textbar{} *\_selector* \textbar{}
\textbar{} \textbar{} \textbar{} \textbar{}

Cuando los operadores no requieren de parámetros adicionales o
actualizar sus parámetros de los operadores cada que se llama el método
\texttt{optimize}, se recomienda utilizar los operadores definidos como
clases e inicializar la clase \texttt{Genetic} con la configuración,
como en el ejemplo de la función de Beale. Cuando los operadores
requieren de parámetros adicionales, se recomienda usar los operadores
definidos como funciones, crear una clase que herede de \texttt{Genetic}
y sobreescribir los operadores como se muestra a continuación.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{k}{class} \PY{n+nc}{custom\PYZus{}AG}\PY{p}{(}\PY{n}{Genetic}\PY{p}{)}\PY{p}{:}
             
             \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{function}\PY{p}{:} \PY{n}{helpers}\PY{o}{.}\PY{n}{function\PYZus{}type}\PY{p}{,}\PYZbs{}
                                 \PY{n}{decision\PYZus{}variables}\PY{p}{:}\PY{n+nb}{int}\PY{p}{,}\PYZbs{}
                                 \PY{n}{constraints}\PY{p}{:}\PY{n+nb}{list}\PY{o}{=}\PY{p}{[}\PY{p}{]}\PY{p}{,}\PYZbs{}
                                 \PY{n}{bounds}\PY{p}{:} \PY{n+nb}{list}\PY{o}{=}\PY{p}{[}\PY{p}{]}\PY{p}{,}\PYZbs{}
                                 \PY{n}{config} \PY{o}{=} \PY{k+kc}{None}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb}{super}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n+nf+fm}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n}{function}\PY{p}{,} \PY{n}{decision\PYZus{}variables}\PY{p}{,} \PY{n}{constraints}\PY{p}{,} \PY{n}{bounds}\PY{p}{,} \PY{n}{config}\PY{p}{)}
                 \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{\PYZus{}survivor\PYZus{}selection} \PY{o}{=} \PY{n}{selection}\PY{o}{.}\PY{n}{merge\PYZus{}selector}\PY{p}{(}\PY{p}{)}
                 
             \PY{k}{def} \PY{n+nf}{crossover\PYZus{}operator}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{parent\PYZus{}ind1}\PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{,}\PYZbs{}
                                          \PY{n}{parent\PYZus{}ind2}\PY{p}{:} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{:}
                 \PY{k}{return} \PY{n}{crossover}\PY{o}{.}\PY{n}{intermediate\PYZus{}cross}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{parent\PYZus{}population\PYZus{}x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{parent\PYZus{}ind1}\PY{p}{,}\PY{n}{parent\PYZus{}ind2}\PY{p}{)}
             
             \PY{k}{def} \PY{n+nf}{mutation\PYZus{}operator}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)}\PY{p}{:}
                 \PY{k}{return} \PY{n}{mutation}\PY{o}{.}\PY{n}{non\PYZus{}uniform\PYZus{}mutation}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{offspring\PYZus{}population\PYZus{}x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
             
             \PY{k}{def} \PY{n+nf}{survivor\PYZus{}selection}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,}\PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{:}
                 \PY{n}{individuals} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
                 \PY{n}{individuals}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{parent\PYZus{}population\PYZus{}x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{offspring\PYZus{}population\PYZus{}x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
                 \PY{k}{return} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{\PYZus{}survivor\PYZus{}selection}\PY{p}{(}   \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{parent\PYZus{}population\PYZus{}fitness}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PYZbs{}
                                                     \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{offspring\PYZus{}population\PYZus{}fitness}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PYZbs{}
                                                     \PY{n}{individuals}\PY{p}{)} 
                 
             \PY{k}{def} \PY{n+nf}{parent\PYZus{}selection}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{:}
                 \PY{k}{return} \PY{n}{selection}\PY{o}{.}\PY{n}{tournament\PYZus{}sampling}\PY{p}{(} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{parent\PYZus{}population\PYZus{}fitness}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mf}{0.5}\PY{p}{)}
             
             \PY{k}{def} \PY{n+nf}{fixer}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{ind}\PY{p}{:} \PY{n+nb}{int}\PY{p}{)}\PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{:}
                 \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{clip}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{offspring\PYZus{}population\PYZus{}x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{ind}\PY{p}{]}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{Bounds}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{Bounds}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\end{Verbatim}

    Es importante tener en cuenta que se debe incluir
\texttt{super().\_\_init\_\_()} para llamar al constructor de
\texttt{Genetic} con los argumentos antes mencionados.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}17}]:} \PY{n}{AckleyGenetic} \PY{o}{=} \PY{n}{custom\PYZus{}AG}\PY{p}{(}\PY{o}{*}\PY{o}{*}\PY{n}{ackley\PYZus{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}18}]:} \PY{n}{AckleyGenetic}\PY{o}{.}\PY{n}{optimize}\PY{p}{(}\PY{l+m+mi}{200}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
100\%|██████████| 200/200 [00:01<00:00, 174.51it/s]

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}19}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{AckleyGenetic}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Genetic search: 
 f(X) = 4.440892098500626e-16 
 X = [-1.64066073e-24 -3.77045824e-27  9.64238971e-25  2.46046705e-26
  6.09275423e-25  7.77573700e-29  1.16274429e-27 -3.99105718e-28
 -6.46120464e-26  8.52540745e-28] 
 Constraints: 
 x1: -30 <= -0.00 <= 30 
 x2: -30 <= -0.00 <= 30 
 x3: -30 <= 0.00 <= 30 
 x4: -30 <= 0.00 <= 30 
 x5: -30 <= 0.00 <= 30 
 x6: -30 <= 0.00 <= 30 
 x7: -30 <= 0.00 <= 30 
 x8: -30 <= -0.00 <= 30 
 x9: -30 <= -0.00 <= 30 
 x10: -30 <= 0.00 <= 30 
  


    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}20}]:} \PY{n}{args} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{200}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{,}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{statistics} \PY{o}{=} \PY{n}{helpers}\PY{o}{.}\PY{n}{get\PYZus{}stats}\PY{p}{(}\PY{n}{AckleyGenetic}\PY{p}{,} \PY{l+m+mi}{30}\PY{p}{,} \PY{n}{args}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{n}{pprint}\PY{p}{(}\PY{n}{statistics}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
\{'Best solution': \{'f': 4.440892098500626e-16,
                   'x': array([ 9.41657632e-28, -2.68102266e-26, -1.18654066e-25, -6.30912257e-28,
        7.93873047e-27, -1.27571176e-26,  1.87386483e-26,  6.02543005e-28,
       -1.13657055e-25, -8.15707729e-26])\},
 'Mean': 4.440892098500626e-16,
 'Standard deviation': 0.0,
 'Worst solution': \{'f': 4.440892098500626e-16,
                    'x': array([ 9.41657632e-28, -2.68102266e-26, -1.18654066e-25, -6.30912257e-28,
        7.93873047e-27, -1.27571176e-26,  1.87386483e-26,  6.02543005e-28,
       -1.13657055e-25, -8.15707729e-26])\}\}

    \end{Verbatim}

    \subsection{Problema del agente
viajero}\label{problema-del-agente-viajero}

\begin{equation}
    \label{eq:TSP}
    \begin{array}{rll}
    \text{minimizar:} & f(x) = d(x_n, x_1) + \sum_{i=1}^{n-1} d(x_i, x_{i+1}) &  \\
    \text{tal que: } & x_i \in \{1,2,\cdots,n\} & \\
    \end{array}
\end{equation}

Donde \(d(x_i,x_j)\) es la distancia de la ciudad \(x_i\) a la ciudad
\(x_j\), \(n\) es el número de ciudades y \(x\) es una permutación de
las \(n\) ciudades. A continuación se define una instancia de este
problema utilizando 10 ciudades.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}22}]:} \PY{n}{num\PYZus{}cities} \PY{o}{=} \PY{l+m+mi}{10}
         \PY{n}{dist\PYZus{}matrix} \PY{o}{=} \PYZbs{}
         \PY{p}{[}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{49}\PY{p}{,}\PY{l+m+mi}{30}\PY{p}{,}\PY{l+m+mi}{53}\PY{p}{,}\PY{l+m+mi}{72}\PY{p}{,}\PY{l+m+mi}{19}\PY{p}{,}\PY{l+m+mi}{76}\PY{p}{,}\PY{l+m+mi}{87}\PY{p}{,}\PY{l+m+mi}{45}\PY{p}{,}\PY{l+m+mi}{48}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{49}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{19}\PY{p}{,}\PY{l+m+mi}{38}\PY{p}{,}\PY{l+m+mi}{32}\PY{p}{,}\PY{l+m+mi}{31}\PY{p}{,}\PY{l+m+mi}{75}\PY{p}{,}\PY{l+m+mi}{69}\PY{p}{,}\PY{l+m+mi}{61}\PY{p}{,}\PY{l+m+mi}{25}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{30}\PY{p}{,}\PY{l+m+mi}{19}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{41}\PY{p}{,}\PY{l+m+mi}{98}\PY{p}{,}\PY{l+m+mi}{56}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{45}\PY{p}{,}\PY{l+m+mi}{53}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{53}\PY{p}{,}\PY{l+m+mi}{38}\PY{p}{,}\PY{l+m+mi}{41}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{52}\PY{p}{,}\PY{l+m+mi}{29}\PY{p}{,}\PY{l+m+mi}{46}\PY{p}{,}\PY{l+m+mi}{90}\PY{p}{,}\PY{l+m+mi}{23}\PY{p}{,}\PY{l+m+mi}{98}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{72}\PY{p}{,}\PY{l+m+mi}{32}\PY{p}{,}\PY{l+m+mi}{98}\PY{p}{,}\PY{l+m+mi}{52}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{63}\PY{p}{,}\PY{l+m+mi}{90}\PY{p}{,}\PY{l+m+mi}{69}\PY{p}{,}\PY{l+m+mi}{50}\PY{p}{,}\PY{l+m+mi}{82}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{19}\PY{p}{,}\PY{l+m+mi}{31}\PY{p}{,}\PY{l+m+mi}{56}\PY{p}{,}\PY{l+m+mi}{29}\PY{p}{,}\PY{l+m+mi}{63}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{60}\PY{p}{,}\PY{l+m+mi}{88}\PY{p}{,}\PY{l+m+mi}{41}\PY{p}{,}\PY{l+m+mi}{95}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{76}\PY{p}{,}\PY{l+m+mi}{75}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{46}\PY{p}{,}\PY{l+m+mi}{90}\PY{p}{,}\PY{l+m+mi}{60}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{61}\PY{p}{,}\PY{l+m+mi}{92}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{87}\PY{p}{,}\PY{l+m+mi}{69}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{90}\PY{p}{,}\PY{l+m+mi}{69}\PY{p}{,}\PY{l+m+mi}{88}\PY{p}{,}\PY{l+m+mi}{61}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{82}\PY{p}{,}\PY{l+m+mi}{73}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{45}\PY{p}{,}\PY{l+m+mi}{61}\PY{p}{,}\PY{l+m+mi}{45}\PY{p}{,}\PY{l+m+mi}{23}\PY{p}{,}\PY{l+m+mi}{50}\PY{p}{,}\PY{l+m+mi}{41}\PY{p}{,}\PY{l+m+mi}{92}\PY{p}{,}\PY{l+m+mi}{82}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{[}\PY{l+m+mi}{48}\PY{p}{,}\PY{l+m+mi}{25}\PY{p}{,}\PY{l+m+mi}{53}\PY{p}{,}\PY{l+m+mi}{98}\PY{p}{,}\PY{l+m+mi}{82}\PY{p}{,}\PY{l+m+mi}{95}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{73}\PY{p}{,}\PY{l+m+mi}{5}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,}\PYZbs{}
         \PY{p}{]}
\end{Verbatim}

    \texttt{dist\_matrix} es una matriz de adyacencia. Cada componente
\(x_{i,j}\) es la distancia de la ciudad \(x_{i}\) a la ciudad
\(x_{j}\).

    \subsubsection{Función objetivo}\label{funciuxf3n-objetivo}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}23}]:} \PY{k}{def} \PY{n+nf}{f\PYZus{}salesman}\PY{p}{(}\PY{n}{x} \PY{p}{:} \PY{p}{(}\PY{n+nb}{list}\PY{p}{,}\PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{)}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n+nb}{float}\PY{p}{:}
             \PY{k}{global} \PY{n}{dist\PYZus{}matrix}
             \PY{n}{total\PYZus{}dist} \PY{o}{=} \PY{n}{dist\PYZus{}matrix}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
             \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{n+nb}{len}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                 \PY{n}{u}\PY{p}{,}\PY{n}{v} \PY{o}{=} \PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n+nb}{int}\PY{p}{(}\PY{n}{x}\PY{p}{[}\PY{n}{i}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
                 \PY{n}{total\PYZus{}dist}\PY{o}{+}\PY{o}{=} \PY{n}{dist\PYZus{}matrix}\PY{p}{[}\PY{n}{u}\PY{p}{]}\PY{p}{[}\PY{n}{v}\PY{p}{]}
         
             \PY{k}{return} \PY{n+nb}{float}\PY{p}{(}\PY{n}{total\PYZus{}dist}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}24}]:} \PY{n}{contraints\PYZus{}viajero} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         \PY{n}{bounds\PYZus{}viajero} \PY{o}{=} \PY{p}{[}\PY{p}{]}
         \PY{n}{decision\PYZus{}variables\PYZus{}viajero} \PY{o}{=} \PY{l+m+mi}{10}
\end{Verbatim}

    Dado que para este problema vamos a usar una representación de
permutaciones, no es necesario definir los límites de las variables de
decisión.

    \subsubsection{Definición de la
configuración}\label{definiciuxf3n-de-la-configuraciuxf3n}

    Para este problema se va a utilizar una combinación de las dos formas
empleadas anteriormente para hacer uso de la metaheurística de AG. A
continuación, definimos la clase \texttt{TravellingSalesman\_solver} que
hereda de \texttt{Genetic} y sobreescribimos el método
\texttt{initialize\_population} de tal forma que cada individuo de la
población sea una permutación de las ciudades.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}26}]:} \PY{k}{class} \PY{n+nc}{TravellingSalesman\PYZus{}solver}\PY{p}{(}\PY{n}{Genetic}\PY{p}{)}\PY{p}{:}
             \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,}  \PY{n}{function}\PY{p}{:} \PY{n}{helpers}\PY{o}{.}\PY{n}{function\PYZus{}type}\PY{p}{,}\PYZbs{}
                                 \PY{n}{decision\PYZus{}variables}\PY{p}{:}\PY{n+nb}{int}\PY{p}{,}\PYZbs{}
                                 \PY{n}{constraints}\PY{p}{:}\PY{n+nb}{list}\PY{o}{=}\PY{p}{[}\PY{p}{]}\PY{p}{,}\PYZbs{}
                                 \PY{n}{bounds}\PY{p}{:} \PY{n+nb}{list}\PY{o}{=}\PY{p}{[}\PY{p}{]}\PY{p}{,}\PYZbs{}
                                 \PY{n}{config} \PY{o}{=} \PY{k+kc}{None}\PY{p}{)}\PY{p}{:}
                 \PY{n+nb}{super}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n+nf+fm}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n}{function}\PY{p}{,} \PY{n}{decision\PYZus{}variables}\PY{p}{,} \PY{n}{constraints}\PY{p}{,} \PY{n}{bounds}\PY{p}{,} \PY{n}{config}\PY{p}{)}
             
             \PY{k}{def} \PY{n+nf}{initialize\PYZus{}population}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{o}{*}\PY{o}{*}\PY{n}{kwargs}\PY{p}{)} \PY{o}{\PYZhy{}}\PY{o}{\PYZgt{}} \PY{n}{np}\PY{o}{.}\PY{n}{ndarray}\PY{p}{:}
                 \PY{n}{individuals} \PY{o}{=} \PY{p}{[}\PY{p}{]}
                 
                 \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{logger}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{population\PYZus{}size}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
                     \PY{n}{individuals} \PY{o}{+}\PY{o}{=} \PY{p}{[}\PY{n}{np}\PY{o}{.}\PY{n}{random}\PY{o}{.}\PY{n}{permutation}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{Decision\PYZus{}variables}\PY{p}{)}\PY{p}{]}
                     
                 \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{individuals}\PY{p}{)}
\end{Verbatim}

    En este ejemplo se ha empleado la siguiente configuración: *
\texttt{Crossover\ operator.} Permutaciones - Order Crossover
(\texttt{permutation\_order}). * \texttt{Mutation\ operator.} Mutación
para permutaciones: por intercambio recíproco
(\texttt{exchange\_mutator}). * \texttt{Survivor\ selection.} Esquema
\((\mu + \lambda)\). * \texttt{Parent\ selection.} Selección mediante
torneos de tamaño 3, utilizando \(p=0.5\). * \texttt{Fixer.} No se
emplea ninguna función auxiliar para corregir las soluciones.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}25}]:} \PY{n}{configuration\PYZus{}Travelling} \PY{o}{=} \PY{p}{(}\PY{n}{helpers}\PY{o}{.}\PY{n}{GeneticConfig}\PY{p}{(}\PY{p}{)}
                                  \PY{o}{.}\PY{n}{cross}\PY{p}{(}\PY{n}{crossover}\PY{o}{.}\PY{n}{permutation\PYZus{}order}\PY{p}{(}\PY{p}{)}\PY{p}{)}
                                  \PY{o}{.}\PY{n}{mutate}\PY{p}{(}\PY{n}{mutation}\PY{o}{.}\PY{n}{exchange\PYZus{}mutator}\PY{p}{(}\PY{p}{)}\PY{p}{)}
                                  \PY{o}{.}\PY{n}{survivor\PYZus{}selection}\PY{p}{(}\PY{n}{selection}\PY{o}{.}\PY{n}{merge\PYZus{}selector}\PY{p}{(}\PY{p}{)}\PY{p}{)}
                                  \PY{o}{.}\PY{n}{parent\PYZus{}selection}\PY{p}{(}\PY{n}{selection}\PY{o}{.}\PY{n}{tournament\PYZus{}sampler}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mf}{0.5}\PY{p}{)}\PY{p}{)}
                                  \PY{o}{.}\PY{n}{fixer\PYZus{}invalide\PYZus{}solutions}\PY{p}{(}\PY{n}{helpers}\PY{o}{.}\PY{n}{NoneFixer}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}

    Finalmente, se hace una instancia de la clase
\texttt{TravellingSalesman\_solver} y se llama a su método
\texttt{optimize}.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}27}]:} \PY{n}{travellerGenetic} \PY{o}{=} \PY{n}{TravellingSalesman\PYZus{}solver}\PY{p}{(}\PY{n}{f\PYZus{}salesman}\PY{p}{,}\PY{n}{decision\PYZus{}variables\PYZus{}viajero}\PY{p}{,}\PYZbs{}
                                                          \PY{n}{contraints\PYZus{}viajero}\PY{p}{,}\PY{n}{bounds\PYZus{}viajero}\PY{p}{,}\PYZbs{}
                                                          \PY{n}{configuration\PYZus{}Travelling}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}28}]:} \PY{n}{travellerGenetic}\PY{o}{.}\PY{n}{optimize}\PY{p}{(}\PY{l+m+mi}{200}\PY{p}{,}\PY{l+m+mi}{100}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
100\%|██████████| 200/200 [00:04<00:00, 45.77it/s]

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}29}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{travellerGenetic}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
Genetic search: 
 f(X) = 184.0 
 X = [7. 2. 6. 9. 8. 3. 4. 1. 5. 0.] 
 

    \end{Verbatim}

    \subsubsection{Análisis estadístico}\label{anuxe1lisis-estaduxedstico}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}30}]:} \PY{n}{args} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{200}\PY{p}{,} \PY{l+m+mi}{100}\PY{p}{,}\PY{k+kc}{False}\PY{p}{)}
         \PY{n}{statistics} \PY{o}{=} \PY{n}{helpers}\PY{o}{.}\PY{n}{get\PYZus{}stats}\PY{p}{(}\PY{n}{travellerGenetic}\PY{p}{,} \PY{l+m+mi}{30}\PY{p}{,} \PY{n}{args}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}31}]:} \PY{n}{pprint}\PY{p}{(}\PY{n}{statistics}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
\{'Best solution': \{'f': 184.0,
                   'x': array([7., 2., 6., 9., 8., 3., 4., 1., 5., 0.])\},
 'Mean': 184.5,
 'Standard deviation': 2.692582403567252,
 'Worst solution': \{'f': 199.0,
                    'x': array([1., 4., 7., 2., 6., 9., 8., 3., 5., 0.])\}\}

    \end{Verbatim}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
